# Установка и настройка MySQL Community Edition на Debian GNU/Linux

## 1. Установка необходимых пакетов
Прежде чем установить MySQL, нам нужно установить пакет GnuPG — реализацию стандарта OpenPGP с открытым исходным кодом, которая потребуется для работы с репозиториями MySQL.
Для этого выполните команду:
```bash
sudo apt install gnupg -y
```

## 2. Загрузка репозитория MySQL
1. Перейдите на [страницу загрузки репозитория MySQL APT](https://dev.mysql.com/downloads/repo/apt/) в вашем веб-браузере.
2. Найдите кнопку "Download" (Скачать) и нажмите её. Далее вас перенаправят на страницу, где будет предложено войти в систему или зарегистрировать учетную запись Oracle. Вы можете пропустить этот шаг и нажать ссылку «No thanks, just start my download» (Нет, спасибо, просто начните загрузку).
3. Щелкните правой кнопкой мыши по ссылке для загрузки и выберите "Копировать адрес ссылки" (эта опция может называться по-разному в зависимости от вашего браузера).
Теперь загрузите файл с помощью утилиты `wget`. Для этого вставьте скопированный адрес вместо выделенной части в следующей команде:
```bash
wget https://dev.mysql.com/get/mysql-apt-config_0.8.34-1_all.deb
```
**Внимание!** Ссылка на репозиторий может изменяться при выпуске новых версий пакета.

## 3. Установка репозитория
После того как файл будет загружен, установите его с помощью следующей команды:
```bash
sudo dpkg -i mysql-apt-config_0.8.34-1_all.deb
```
После установки репозитория обновите кэш пакетов apt, чтобы новые пакеты стали доступными:
```bash
sudo apt update
```

## 4. Установка MySQL Server
Теперь, когда репозиторий добавлен и обновлен, можно установить сервер MySQL:
```bash
sudo apt install mysql-server -y
```
По умолчанию будет установлена версия MySQL 8.0.

## 5. Настройка безопасности MySQL
После установки MySQL запустите сценарий для настройки безопасности:
```bash
sudo mysql_secure_installation
```
1. Введите пароль для пользователя `root`, который вы задали во время установки, и нажмите клавишу **Enter**.
2. Далее вам будет предложено ответить на несколько вопросов:
   - **Настроить правила надежности пароля (VALIDATE PASSWORD COMPONENT)**: Введите `Y` и нажмите **Enter** для включения проверки надежности пароля.
   - **Уровень проверки пароля (There are three levels of password validation policy):**: Выберите уровень 1 (рекомендуется) и нажмите **Enter**.
   - **Изменить пароль root (Change the password for root ?)**: Вы можете пропустить этот шаг, если пароль был установлен правильно. Просто нажмите **Enter**.
   - **Удалить анонимных пользователей (Remove anonymous users?)**: Введите `Y` и нажмите **Enter**.
   - **Запретить удаленный вход для пользователя root (Disallow root login remotely?)**: Введите `Y` и нажмите **Enter**.
   - **Удалить тестовую базу данных (Remove test database and access to it?)**: Введите `Y` и нажмите **Enter**.
   - **Перезагрузить таблицы привилегий (Reload privilege tables now?)**: Введите `Y` и нажмите **Enter**.
Сценарий завершится, и MySQL будет настроен для безопасной работы.

## 6. Создание базы данных и пользователя
Теперь, когда MySQL установлен и настроен, вы можете создать новую базу данных и пользователя. Для этого выполните следующие команды в MySQL:
1. Войдите в MySQL с правами пользователя `root`:
   ```bash
   sudo mysql -u root -p
   ```
2. Создайте базу данных:
   ```sql
   CREATE DATABASE database CHARACTER SET utf8 COLLATE utf8_general_ci;
   ```
3. Создайте нового пользователя и назначьте ему права на базу данных:
   ```sql
   CREATE USER 'dbadmin'@'localhost' IDENTIFIED BY 'P@ssw0rd';
   GRANT ALL PRIVILEGES ON database.* TO 'dbadmin'@'localhost';
   FLUSH PRIVILEGES;
   ```
Теперь у вас есть база данных `database` и пользователь `dbadmin`, который имеет полный доступ к этой базе.

## 7. Импорт данных в базу данных
Если у вас есть файл с данными, которые нужно импортировать в созданную базу, используйте следующую команду:
```bash
mysql -u dbadmin -p -h localhost database < data.sql
```
Введите пароль пользователя `dbadmin`, и данные будут импортированы в базу.
