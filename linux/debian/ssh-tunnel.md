# Настройка SSH для проброса TCP на Debian GNU/Linux

## 1. Установка и настройка SSH-сервера на Debian 12
Установите OpenSSH Server, если он ещё не установлен:
```bash
sudo apt update
sudo apt install openssh-server
```
Проверьте статус SSH-сервера, чтобы убедиться, что он запущен:
```bash
sudo systemctl status ssh
```
Если служба не запущена, включите её и запустите:
```bash
sudo systemctl enable ssh
sudo systemctl start ssh
```
Настройте SSH-конфигурацию для разрешения TCP-туннелирования.
Откройте файл конфигурации SSH-сервера:
```bash
sudo nano /etc/ssh/sshd_config
```
Найдите строку `AllowTcpForwarding` и установите её в значение `yes`. Если эта строка отсутствует, добавьте её. Сохраните изменения и закройте файл:
```bash
AllowTcpForwarding yes
```
Перезапустите SSH-сервер для применения изменений:
```bash
sudo systemctl restart ssh
```

## 2. Настройка проброса TCP на клиенте
Установите SSH-клиент, если он ещё не установлен (на большинстве систем Linux он уже установлен):
```bash
sudo apt update
sudo apt install openssh-client
```

Создайте SSH-туннель для проброса TCP:
```bash
ssh -L [локальный_порт]:[удалённый_хост]:[удалённый_порт] [пользователь]@[ssh-сервер]
```
    - `[локальный_порт]` — порт на вашем локальном ПК, через который будет идти трафик.
    - `[удалённый_хост]` — адрес хоста, на который нужно пробросить соединение (обычно `localhost` для серверов, доступных только изнутри).
    - `[удалённый_порт]` — порт на удалённом сервере, к которому нужно подключиться.
    - `[пользователь]` — имя пользователя для подключения по SSH.
    - `[ssh-сервер]` — адрес SSH-сервера (Debian 12).
Например, для проброса локального порта `8080` на удалённый порт `80` (HTTP) на сервере `r2bny.com`:
```bash
ssh -L 8080:localhost:80 user@r2bny.com
```
Откройте веб-браузер на локальном ПК и введите в адресной строке:
```
http://localhost:8080
```
Если всё настроено правильно, вы должны увидеть веб-страницу, доступную на удалённом сервере через порт 80.
